(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{414:(e,t,r)=>{"use strict";function a(e,t){let r=e.ease,a=e.interval,s=!0;"hard"===t?(r=Math.max(1.3,e.ease-.3),a=1,s=!1):"good"===t?(r=e.ease,a=e.interval*e.ease):"easy"===t&&(r=e.ease+.3,a=e.interval*e.ease*1.3);let i=new Date;return i.setDate(i.getDate()+Math.round(a)),{interval:a,ease:r,nextReview:i.toISOString(),isCorrect:s}}r.d(t,{C:()=>a})},646:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1135:(e,t,r)=>{"use strict";r.d(t,{w:()=>d});var a=r(5155),s=r(2115),i=r(3655),o="horizontal",c=["horizontal","vertical"],l=s.forwardRef((e,t)=>{var r;let{decorative:s,orientation:l=o,...n}=e,d=(r=l,c.includes(r))?l:o;return(0,a.jsx)(i.sG.div,{"data-orientation":d,...s?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...n,ref:t})});l.displayName="Separator";var n=r(9434);function d(e){let{className:t,orientation:r="horizontal",decorative:s=!0,...i}=e;return(0,a.jsx)(l,{"data-slot":"separator-root",decorative:s,orientation:r,className:(0,n.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...i})}},1888:(e,t,r)=>{Promise.resolve().then(r.bind(r,3792))},3065:(e,t,r)=>{"use strict";r.d(t,{X:()=>a});let a=(0,r(5453).v)(e=>({habits:[],fetchHabits:async()=>{try{let t=await fetch("/api/habits"),r=await t.json();e({habits:r})}catch(e){console.error("Failed to fetch habits:",e)}},addHabit:async t=>{try{let r=await fetch("/api/habits",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),a=await r.json();e(e=>({habits:[...e.habits,a]}))}catch(e){console.error("Failed to add habit:",e)}},toggleHabit:async t=>{try{let r=(await a.getState()).habits.find(e=>e.id===t);if(!r)return;let s=await fetch("/api/habits",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,completed:!r.completed})}),i=await s.json();e(e=>({habits:e.habits.map(e=>e.id===t?i:e)}))}catch(e){console.error("Failed to toggle habit:",e)}},deleteHabit:async t=>{try{await fetch("/api/habits",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})}),e(e=>({habits:e.habits.filter(e=>e.id!==t)}))}catch(e){console.error("Failed to delete habit:",e)}}}))},3463:(e,t,r)=>{"use strict";r.d(t,{N:()=>a});let a=(0,r(5453).v)(e=>({flashcards:[],fetchFlashcards:async()=>{try{let t=await fetch("/api/flashcards");if(!t.ok)throw Error("Failed to fetch flashcards");let r=await t.json();e({flashcards:r})}catch(e){throw console.error("Fetch flashcards error:",e),e}},addFlashcard:async t=>{try{let r=await fetch("/api/flashcards",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw Error("Failed to add flashcard");let a=await r.json();e(e=>({flashcards:[...e.flashcards,a]}))}catch(e){throw console.error("Add flashcard error:",e),e}},updateFlashcard:async t=>{try{let r=await fetch("/api/flashcards",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw Error("Failed to update flashcard");let a=await r.json();e(e=>({flashcards:e.flashcards.map(e=>e.id===t.id?a:e)}))}catch(e){throw console.error("Update flashcard error:",e),e}},deleteFlashcard:async t=>{try{if(!(await fetch("/api/flashcards",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})})).ok)throw Error("Failed to delete flashcard");e(e=>({flashcards:e.flashcards.filter(e=>e.id!==t)}))}catch(e){throw console.error("Delete flashcard error:",e),e}},setFlashcards:t=>e({flashcards:t})}))},3792:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var a=r(5155),s=r(3463),i=r(8124),o=r(5912),c=r(3065),l=r(7168),n=r(8482),d=r(7737),h=r(8145),m=r(1135),u=r(6408),p=r(2115),f=r(6874),x=r.n(f),g=r(9245),y=r(4186),v=r(7100),b=r(646),w=r(4788),j=r(1187);function N(){let{flashcards:e=[],fetchFlashcards:t}=(0,s.N)(),{cards:r=[],fetchCards:f}=(0,i.o)(),{courses:N=[],fetchCourses:T}=(0,o.E)(),{habits:A=[],fetchHabits:k}=(0,c.X)(),[C,E]=(0,p.useState)(!0);(0,p.useEffect)(()=>{console.log("Fetching data for home page..."),Promise.all([t().catch(e=>console.error("Flashcards fetch error:",e)),f().catch(e=>console.error("Spaced flashcards fetch error:",e)),T().catch(e=>console.error("Courses fetch error:",e)),k().catch(e=>console.error("Habits fetch error:",e))]).catch(e=>{console.error("Combined fetch error:",e),j.Ay.error("Failed to load some data")}).finally(()=>{E(!1),console.log("Fetch completed:",{flashcards:e,spacedFlashcards:r,courses:N,habits:A})})},[t,f,T,k]);let S=Array.isArray(r)?r.filter(e=>new Date(e.nextReview)<=new Date):[],F=Array.isArray(A)?A.filter(e=>!e.completed):[],D=Array.isArray(N)?N.slice(0,3):[];return C?(0,a.jsxs)("div",{className:"container mx-auto p-6 flex flex-col items-center justify-center min-h-[calc(100vh-4rem)]",children:[(0,a.jsx)(d.E,{className:"h-12 w-3/4 mb-6"}),(0,a.jsx)(d.E,{className:"h-6 w-1/2 mb-12"}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-12 w-full",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)(d.E,{className:"h-32 w-full"},t))}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:[void 0,void 0,void 0].map((e,t)=>(0,a.jsx)(d.E,{className:"h-48 w-full"},t))})]}):(0,a.jsxs)(u.P.div,{className:"container mx-auto p-6 flex flex-col items-center justify-center min-h-[calc(100vh-4rem)]",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[(0,a.jsxs)(u.P.section,{className:"text-center mb-12 py-16 bg-gradient-to-r from-primary/10 via-secondary/10 to-primary/10 rounded-lg border border-border/40 w-full max-w-4xl relative overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[(0,a.jsx)(u.P.div,{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-secondary/5 to-primary/5",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:10,repeat:1/0,repeatType:"reverse"}}),(0,a.jsxs)("div",{className:"relative z-10 space-y-8",children:[(0,a.jsxs)(u.P.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,type:"spring",stiffness:100,damping:10},className:"space-y-4",children:[(0,a.jsx)("h1",{className:"text-5xl sm:text-6xl md:text-7xl font-bold text-white",children:"Welcome to LearnHub"}),(0,a.jsx)("div",{className:"h-1 w-24 bg-gradient-to-r from-primary to-secondary mx-auto rounded-full"})]}),(0,a.jsxs)(u.P.p,{className:"text-xl sm:text-2xl text-gray-200 max-w-2xl mx-auto leading-relaxed",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,type:"spring",stiffness:100,damping:10},children:["Master your skills with"," ",(0,a.jsx)("span",{className:"text-primary-foreground font-medium",children:"flashcards"}),","," ",(0,a.jsx)("span",{className:"text-secondary-foreground font-medium",children:"spaced repetition"}),","," ",(0,a.jsx)("span",{className:"text-primary-foreground font-medium",children:"courses"}),", and"," ",(0,a.jsx)("span",{className:"text-secondary-foreground font-medium",children:"habit tracking"}),"."]}),(0,a.jsx)(u.P.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,type:"spring",stiffness:100,damping:10},whileHover:{scale:1.05},whileTap:{scale:.95},className:"pt-4",children:(0,a.jsx)(x(),{href:"/courses",children:(0,a.jsx)(l.$,{size:"lg",className:"text-lg bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90 text-white px-8 py-6 shadow-lg hover:shadow-xl transition-all duration-300",children:"Start Learning"})})})]}),(0,a.jsx)(u.P.div,{className:"absolute top-1/4 left-1/4 w-4 h-4 bg-primary/20 rounded-full",animate:{y:[0,-20,0],opacity:[.5,.8,.5]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),(0,a.jsx)(u.P.div,{className:"absolute bottom-1/4 right-1/4 w-6 h-6 bg-secondary/20 rounded-full",animate:{y:[0,20,0],opacity:[.5,.8,.5]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}})]}),(0,a.jsx)(m.w,{className:"mb-12 bg-border/40 w-full max-w-4xl"}),(0,a.jsxs)("section",{className:"mb-12 w-full max-w-4xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-foreground",children:"Explore Features"}),(0,a.jsxs)(h.E,{variant:"secondary",className:"bg-secondary text-secondary-foreground",children:[e.length+S.length+N.length+F.length," Total Items"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[{title:"Flashcards",icon:g.A,href:"/flashcards",count:e.length},{title:"Spaced Repetition",icon:y.A,href:"/spaced-repetition",count:S.length},{title:"Courses",icon:v.A,href:"/courses",count:N.length},{title:"Habits",icon:b.A,href:"/habits",count:F.length},{title:"Quiz",icon:w.A,href:"/quiz",count:0}].map(e=>(0,a.jsx)(x(),{href:e.href,children:(0,a.jsx)(u.P.div,{className:"h-full",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:(0,a.jsxs)(n.Zp,{className:"h-full hover:shadow-lg transition-shadow border-border/40 bg-card",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center justify-between gap-2 text-card-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(e.icon,{className:"h-5 w-5"}),e.title]}),(0,a.jsx)(h.E,{className:"bg-primary text-primary-foreground",children:e.count})]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("p",{className:"text-muted-foreground",children:[e.count," ",e.title.toLowerCase()," ","Spaced Repetition"===e.title?"due":"available"]})})]})})},e.href))})]}),(0,a.jsx)(m.w,{className:"mb-12 bg-border/40 w-full max-w-4xl"}),(0,a.jsxs)("section",{className:"w-full max-w-4xl",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-foreground text-center",children:"Your Learning Dashboard"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)(n.Zp,{className:"border-border/40 bg-card",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2 text-card-foreground",children:[(0,a.jsx)(y.A,{className:"h-5 w-5"}),"Spaced Repetition",S.length>0&&(0,a.jsxs)(h.E,{variant:"destructive",className:"bg-destructive text-destructive-foreground",children:[S.length," Due"]})]})}),(0,a.jsxs)(n.Wu,{children:[0===S.length?(0,a.jsx)("p",{className:"text-muted-foreground",children:"No flashcards due today."}):(0,a.jsx)("ul",{className:"space-y-2",children:S.slice(0,3).map(e=>(0,a.jsx)("li",{className:"truncate",children:(0,a.jsx)(x(),{href:"/spaced-repetition",className:"text-primary hover:text-primary/90 hover:underline",children:e.front})},e.id))}),S.length>0&&(0,a.jsx)(x(),{href:"/spaced-repetition",children:(0,a.jsx)(l.$,{variant:"link",className:"mt-2 text-primary hover:text-primary/90",children:"Review Now"})})]})]}),(0,a.jsxs)(n.Zp,{className:"border-border/40 bg-card",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2 text-card-foreground",children:[(0,a.jsx)(b.A,{className:"h-5 w-5"}),"Habits",F.length>0&&(0,a.jsxs)(h.E,{variant:"destructive",className:"bg-destructive text-destructive-foreground",children:[F.length," Pending"]})]})}),(0,a.jsxs)(n.Wu,{children:[0===F.length?(0,a.jsx)("p",{className:"text-muted-foreground",children:"All habits completed!"}):(0,a.jsx)("ul",{className:"space-y-2",children:F.slice(0,3).map(e=>(0,a.jsx)("li",{className:"truncate",children:(0,a.jsx)(x(),{href:"/habits",className:"text-primary hover:text-primary/90 hover:underline",children:e.name})},e.id))}),F.length>0&&(0,a.jsx)(x(),{href:"/habits",children:(0,a.jsx)(l.$,{variant:"link",className:"mt-2 text-primary hover:text-primary/90",children:"View Habits"})})]})]}),(0,a.jsxs)(n.Zp,{className:"border-border/40 bg-card",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2 text-card-foreground",children:[(0,a.jsx)(v.A,{className:"h-5 w-5"}),"Recent Courses",D.length>0&&(0,a.jsxs)(h.E,{className:"bg-primary text-primary-foreground",children:[D.length," Available"]})]})}),(0,a.jsxs)(n.Wu,{children:[0===D.length?(0,a.jsx)("p",{className:"text-muted-foreground",children:"No courses available."}):(0,a.jsx)("ul",{className:"space-y-2",children:D.map(e=>(0,a.jsx)("li",{className:"truncate",children:(0,a.jsx)(x(),{href:"/courses",className:"text-primary hover:text-primary/90 hover:underline",children:e.title})},e.id))}),(0,a.jsx)(x(),{href:"/courses",children:(0,a.jsx)(l.$,{variant:"link",className:"mt-2 text-primary hover:text-primary/90",children:"Explore Courses"})})]})]})]})]})]})}},4186:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},4788:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("circle-help",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},5912:(e,t,r)=>{"use strict";r.d(t,{E:()=>a});let a=(0,r(5453).v)(e=>({courses:[],topics:["All"],timeRanges:["All","<1 hour","1-3 hours",">3 hours"],selectedTopic:"All",selectedTime:"All",filteredCourses:[],fetchCourses:async()=>{try{let t=await fetch("/api/courses"),r=await t.json(),a=["All",...Array.from(new Set(r.map(e=>e.topic)))];e({courses:r,topics:a,filteredCourses:r})}catch(e){console.error("Failed to fetch courses:",e)}},addCourse:async t=>{try{let r=await fetch("/api/courses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),a=await r.json();e(e=>{let t=[...e.courses,a],r=["All",...Array.from(new Set(t.map(e=>e.topic)))];return{courses:t,topics:r,filteredCourses:t.filter(t=>("All"===e.selectedTopic||t.topic===e.selectedTopic)&&("All"===e.selectedTime||"<1 hour"===e.selectedTime&&t.estimatedTime<1||"1-3 hours"===e.selectedTime&&t.estimatedTime>=1&&t.estimatedTime<=3||">3 hours"===e.selectedTime&&t.estimatedTime>3))}})}catch(e){console.error("Failed to add course:",e)}},updateCourse:async(t,r)=>{try{let a=await fetch("/api/courses",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,...r})}),s=await a.json();e(e=>{let r=e.courses.map(e=>e.id===t?s:e),a=["All",...Array.from(new Set(r.map(e=>e.topic)))];return{courses:r,topics:a,filteredCourses:r.filter(t=>("All"===e.selectedTopic||t.topic===e.selectedTopic)&&("All"===e.selectedTime||"<1 hour"===e.selectedTime&&t.estimatedTime<1||"1-3 hours"===e.selectedTime&&t.estimatedTime>=1&&t.estimatedTime<=3||">3 hours"===e.selectedTime&&t.estimatedTime>3))}})}catch(e){console.error("Failed to update course:",e)}},deleteCourse:async t=>{try{await fetch("/api/courses",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})}),e(e=>{let r=e.courses.filter(e=>e.id!==t),a=["All",...Array.from(new Set(r.map(e=>e.topic)))];return{courses:r,topics:a,filteredCourses:r.filter(t=>("All"===e.selectedTopic||t.topic===e.selectedTopic)&&("All"===e.selectedTime||"<1 hour"===e.selectedTime&&t.estimatedTime<1||"1-3 hours"===e.selectedTime&&t.estimatedTime>=1&&t.estimatedTime<=3||">3 hours"===e.selectedTime&&t.estimatedTime>3))}})}catch(e){console.error("Failed to delete course:",e)}},setTopic:t=>e(e=>{let r=e.courses.filter(r=>("All"===t||r.topic===t)&&("All"===e.selectedTime||"<1 hour"===e.selectedTime&&r.estimatedTime<1||"1-3 hours"===e.selectedTime&&r.estimatedTime>=1&&r.estimatedTime<=3||">3 hours"===e.selectedTime&&r.estimatedTime>3));return{selectedTopic:t,filteredCourses:r}}),setTime:t=>e(e=>{let r=e.courses.filter(r=>("All"===e.selectedTopic||r.topic===e.selectedTopic)&&("All"===t||"<1 hour"===t&&r.estimatedTime<1||"1-3 hours"===t&&r.estimatedTime>=1&&r.estimatedTime<=3||">3 hours"===t&&r.estimatedTime>3));return{selectedTime:t,filteredCourses:r}})}))},7100:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("pen-tool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]])},7168:(e,t,r)=>{"use strict";r.d(t,{$:()=>l,r:()=>c});var a=r(5155);r(2115);var s=r(9708),i=r(2085),o=r(9434);let c=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:r,size:i,asChild:l=!1,...n}=e,d=l?s.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,o.cn)(c({variant:r,size:i,className:t})),...n})}},7737:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var a=r(5155),s=r(9434);function i(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"skeleton",className:(0,s.cn)("bg-accent animate-pulse rounded-md",t),...r})}},8124:(e,t,r)=>{"use strict";r.d(t,{o:()=>i});var a=r(5453),s=r(414);let i=(0,a.v)(e=>({cards:[],cardsDue:[],fetchCards:async()=>{try{let t=await fetch("/api/spaced-repetition"),r=await t.json();e({cards:r,cardsDue:r.filter(e=>new Date(e.nextReview)<=new Date)})}catch(e){console.error("Failed to fetch flashcards:",e)}},addCard:async t=>{try{let r=await fetch("/api/spaced-repetition",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),a=await r.json();e(e=>{let t=[...e.cards,a],r=t.filter(e=>new Date(e.nextReview)<=new Date);return{cards:t,cardsDue:r}})}catch(e){throw console.error("Failed to add flashcard:",e),e}},reviewCard:async(t,r)=>{try{let a=(await i.getState()).cards.find(e=>e.id===t);if(!a)return;let{interval:o,ease:c,nextReview:l,isCorrect:n}=(0,s.C)(a,r),d={...a,interval:o,ease:c,nextReview:l,reviews:a.reviews+1,correctReviews:n?a.correctReviews+1:a.correctReviews},h=await fetch("/api/spaced-repetition",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}),m=await h.json();e(e=>{let r=e.cards.map(e=>e.id===t?m:e),a=r.filter(e=>new Date(e.nextReview)<=new Date);return{cards:r,cardsDue:a}})}catch(e){throw console.error("Failed to review flashcard:",e),e}},deleteCard:async t=>{try{await fetch("/api/spaced-repetition",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})}),e(e=>({cards:e.cards.filter(e=>e.id!==t),cardsDue:e.cardsDue.filter(e=>e.id!==t)}))}catch(e){throw console.error("Failed to delete flashcard:",e),e}}}))},8145:(e,t,r)=>{"use strict";r.d(t,{E:()=>l});var a=r(5155);r(2115);var s=r(9708),i=r(2085),o=r(9434);let c=(0,i.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,asChild:i=!1,...l}=e,n=i?s.DX:"span";return(0,a.jsx)(n,{"data-slot":"badge",className:(0,o.cn)(c({variant:r}),t),...l})}},8482:(e,t,r)=>{"use strict";r.d(t,{Wu:()=>l,ZB:()=>c,Zp:()=>i,aR:()=>o});var a=r(5155);r(2115);var s=r(9434);function i(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function o(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function c(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",t),...r})}},9245:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]])},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var a=r(2596),s=r(9688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[352,628,95,286,441,684,358],()=>t(1888)),_N_E=e.O()}]);