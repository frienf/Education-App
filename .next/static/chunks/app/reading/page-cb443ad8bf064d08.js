(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[17],{2659:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},3568:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var a=r(5155);let s=(0,r(5453).v)(e=>({readings:[],sortKey:"date",sortOrder:"desc",fetchReadings:async()=>{try{let t=await fetch("/api/reading");if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let r=await t.json();e(e=>({readings:r.sort((t,r)=>{let a=t[e.sortKey],s=r[e.sortKey];return"asc"===e.sortOrder?a<s?-1:1:a>s?-1:1})}))}catch(e){throw console.error("Failed to fetch readings:",e),e}},addReading:async t=>{try{let r=await fetch("/api/reading",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){let e=await r.json();throw Error(e.error||"HTTP error! status: ".concat(r.status))}let a=await r.json();e(e=>({readings:[...e.readings,a].sort((t,r)=>{let a=t[e.sortKey],s=r[e.sortKey];return"asc"===e.sortOrder?a<s?-1:1:a>s?-1:1})}))}catch(e){throw console.error("Failed to add reading:",e),e}},updateReading:async(t,r)=>{try{let a=await fetch("/api/reading",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,...r})});if(!a.ok){let e=await a.json();throw Error(e.error||"HTTP error! status: ".concat(a.status))}let s=await a.json();e(e=>({readings:e.readings.map(e=>e.id===t?s:e).sort((t,r)=>{let a=t[e.sortKey],s=r[e.sortKey];return"asc"===e.sortOrder?a<s?-1:1:a>s?-1:1})}))}catch(e){throw console.error("Failed to update reading:",e),e}},deleteReading:async t=>{try{let r=await fetch("/api/reading",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})});if(!r.ok){let e=await r.json();throw Error(e.error||"HTTP error! status: ".concat(r.status))}e(e=>({readings:e.readings.filter(e=>e.id!==t)}))}catch(e){throw console.error("Failed to delete reading:",e),e}},sortReadings:t=>e(e=>{let r=e.sortKey===t&&"asc"===e.sortOrder?"desc":"asc";return{readings:[...e.readings].sort((e,a)=>{let s=e[t],i=a[t];return s<i?"asc"===r?-1:1:s>i?"asc"===r?1:-1:0}),sortKey:t,sortOrder:r}})}));var i=r(2115),o=r(9434);function n(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:(0,o.cn)("w-full caption-bottom text-sm",t),...r})})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("thead",{"data-slot":"table-header",className:(0,o.cn)("[&_tr]:border-b",t),...r})}function d(e){let{className:t,...r}=e;return(0,a.jsx)("tbody",{"data-slot":"table-body",className:(0,o.cn)("[&_tr:last-child]:border-0",t),...r})}function c(e){let{className:t,...r}=e;return(0,a.jsx)("tr",{"data-slot":"table-row",className:(0,o.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...r})}function u(e){let{className:t,...r}=e;return(0,a.jsx)("th",{"data-slot":"table-head",className:(0,o.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})}function h(e){let{className:t,...r}=e;return(0,a.jsx)("td",{"data-slot":"table-cell",className:(0,o.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})}var p=r(9946);let m=(0,p.A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);function g(e){let{rating:t}=e;return(0,a.jsx)("div",{className:"flex",children:[1,2,3,4,5].map(e=>(0,a.jsx)(m,{className:"w-5 h-5 ".concat(e<=t?"text-yellow-400 fill-yellow-400":"text-gray-300")},e))})}var b=r(6408);function x(){let{readings:e,sortReadings:t,sortKey:r,sortOrder:i}=s(),o=e=>{t(e)};return(0,a.jsxs)(n,{children:[(0,a.jsx)(l,{children:(0,a.jsxs)(c,{children:[(0,a.jsxs)(u,{onClick:()=>o("title"),className:"cursor-pointer",children:["Title ","title"===r&&("asc"===i?"↑":"↓")]}),(0,a.jsxs)(u,{onClick:()=>o("author"),className:"cursor-pointer",children:["Author ","author"===r&&("asc"===i?"↑":"↓")]}),(0,a.jsxs)(u,{onClick:()=>o("date"),className:"cursor-pointer",children:["Date ","date"===r&&("asc"===i?"↑":"↓")]}),(0,a.jsxs)(u,{onClick:()=>o("rating"),className:"cursor-pointer",children:["Rating ","rating"===r&&("asc"===i?"↑":"↓")]})]})}),(0,a.jsx)(d,{children:e.map(e=>(0,a.jsxs)(b.P.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"border-b border-border/40",children:[(0,a.jsx)(h,{children:e.title}),(0,a.jsx)(h,{children:e.author}),(0,a.jsx)(h,{children:e.date}),(0,a.jsx)(h,{children:(0,a.jsx)(g,{rating:e.rating})})]},e.id))})]})}var v=r(7168),f=r(9852),y=r(2659),w=r(4616);let j=(0,p.A)("book-marked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);function N(){let{readings:e,addReading:t,fetchReadings:r}=s(),[o,n]=(0,i.useState)(""),[l,d]=(0,i.useState)(""),[c,u]=(0,i.useState)(1);return(0,i.useEffect)(()=>{r()},[r]),(0,a.jsxs)(b.P.div,{className:"container mx-auto p-6 max-w-7xl",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[(0,a.jsxs)(b.P.div,{className:"flex items-center gap-3 mb-8 relative",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,a.jsxs)(b.P.div,{initial:{scale:.8,rotate:-10},animate:{scale:1,rotate:0},transition:{duration:.5,delay:.2},className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-white/30 rounded-full blur-lg"}),(0,a.jsx)(y.A,{className:"w-12 h-12 text-white drop-shadow-lg relative z-10"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold tracking-tight text-white drop-shadow-md",children:"Reading Log"}),(0,a.jsx)("div",{className:"absolute -bottom-2 left-0 w-full h-1 bg-gradient-to-r from-white/30 via-white/50 to-white/30 rounded-full"})]})]}),(0,a.jsxs)(b.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"bg-card/50 backdrop-blur-sm rounded-lg shadow-lg p-6 mb-8 border border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsxs)(b.P.div,{initial:{scale:.8},animate:{scale:1},transition:{duration:.3},className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-primary/20 rounded-full blur-sm"}),(0,a.jsx)(w.A,{className:"w-6 h-6 text-white drop-shadow-md relative z-10"})]}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:"Add New Book"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(j,{className:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-white"}),(0,a.jsx)(f.p,{placeholder:"Book Title",value:o,onChange:e=>n(e.target.value),className:"pl-10 bg-white/5 transition-all duration-200 hover:border-primary/50 focus:border-primary"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(y.A,{className:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-white"}),(0,a.jsx)(f.p,{placeholder:"Author",value:l,onChange:e=>d(e.target.value),className:"pl-10 bg-white/5 transition-all duration-200 hover:border-primary/50 focus:border-primary"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(m,{className:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-white"}),(0,a.jsx)(f.p,{type:"number",placeholder:"Rating (1-5)",value:c,onChange:e=>u(Number(e.target.value)),min:"1",max:"5",className:"pl-10 bg-white/5 transition-all duration-200 hover:border-primary/50 focus:border-primary"})]}),(0,a.jsx)(v.$,{onClick:()=>{o.trim()&&l.trim()&&(t({title:o,author:l,date:new Date().toISOString().split("T")[0],rating:c}),n(""),d(""),u(1))},className:"h-10 px-4 text-base w-32 bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 transition-all duration-200 shadow-lg hover:shadow-primary/20",children:"Add Book"})]})]}),(0,a.jsx)(b.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"bg-card/50 backdrop-blur-sm rounded-lg shadow-lg p-6 border border-white/10",children:(0,a.jsx)(x,{})})]})}},4616:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5284:(e,t,r)=>{Promise.resolve().then(r.bind(r,3568))},7168:(e,t,r)=>{"use strict";r.d(t,{$:()=>l,r:()=>n});var a=r(5155);r(2115);var s=r(9708),i=r(2085),o=r(9434);let n=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:r,size:i,asChild:l=!1,...d}=e,c=l?s.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,o.cn)(n({variant:r,size:i,className:t})),...d})}},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var a=r(2596),s=r(9688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},9852:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var a=r(5155);r(2115);var s=r(9434);function i(e){let{className:t,type:r,...i}=e;return(0,a.jsx)("input",{type:r,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...i})}},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var a=r(2115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),o=e=>{let t=i(e);return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:u,iconNode:h,...p}=e;return(0,a.createElement)("svg",{ref:t,...d,width:s,height:s,stroke:r,strokeWidth:o?24*Number(i)/Number(s):i,className:n("lucide",c),...!u&&!l(p)&&{"aria-hidden":"true"},...p},[...h.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,a.forwardRef)((r,i)=>{let{className:l,...d}=r;return(0,a.createElement)(c,{ref:i,iconNode:t,className:n("lucide-".concat(s(o(e))),"lucide-".concat(e),l),...d})});return r.displayName=o(e),r}}},e=>{var t=t=>e(e.s=t);e.O(0,[352,628,441,684,358],()=>t(5284)),_N_E=e.O()}]);